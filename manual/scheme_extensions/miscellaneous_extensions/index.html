
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.9">
    
    
      
        <title>Miscellaneous extensions - Gambit Scheme</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../js/codemirror/lib/codemirror.css">
    
      <link rel="stylesheet" href="../../../css/UI.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Miscellaneous extensions - Gambit Scheme" >
      
        <meta  property="og:description"  content="None" >
      
        <meta  property="og:image"  content="./assets/images/social/manual/scheme_extensions/miscellaneous_extensions.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="None" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Miscellaneous extensions - Gambit Scheme" >
      
        <meta  name="twitter:description"  content="None" >
      
        <meta  name="twitter:image"  content="./assets/images/social/manual/scheme_extensions/miscellaneous_extensions.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#miscellaneous-extensions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Gambit Scheme" class="md-header__button md-logo" aria-label="Gambit Scheme" data-md-component="logo">
      
  <img src="../../../assets/gambit.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Gambit Scheme
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Miscellaneous extensions
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/gambit/gambit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    gambit/gambit
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Manual
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../howtos/" class="md-tabs__link">
        How-tos
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Gambit Scheme" class="md-nav__button md-logo" aria-label="Gambit Scheme" data-md-component="logo">
      
  <img src="../../../assets/gambit.png" alt="logo">

    </a>
    Gambit Scheme
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gambit/gambit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    gambit/gambit
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../..">Home</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">Manual</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Manual" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Manual
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../the_gambit_system/">The Gambit system</a>
          
            <label for="__nav_2_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="The Gambit system" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          The Gambit system
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../the_gambit_system/accessing_the_system_files/" class="md-nav__link">
        Accessing the system files
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../gsi/">The Gambit Scheme interpreter</a>
          
            <label for="__nav_2_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="The Gambit Scheme interpreter" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          The Gambit Scheme interpreter
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gsi/interactive_mode/" class="md-nav__link">
        Interactive mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gsi/batch_mode/" class="md-nav__link">
        Batch mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gsi/module_management_mode/" class="md-nav__link">
        Module management mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gsi/customization/" class="md-nav__link">
        Customization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gsi/process_exit_status/" class="md-nav__link">
        Process exit status
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gsi/scheme_scripts/" class="md-nav__link">
        Scheme scripts
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../gsc/">The Gambit Scheme compiler</a>
          
            <label for="__nav_2_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="The Gambit Scheme compiler" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          The Gambit Scheme compiler
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gsc/interactive_mode/" class="md-nav__link">
        Interactive mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gsc/customization/" class="md-nav__link">
        Customization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gsc/batch_mode/" class="md-nav__link">
        Batch mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gsc/link_files/" class="md-nav__link">
        Link files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gsc/procedures/" class="md-nav__link">
        Procedures specific to the compiler
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" type="checkbox" id="__nav_2_5" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../runtime_options/">Runtime options</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Runtime options" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          Runtime options
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" type="checkbox" id="__nav_2_6" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../debugging/">Debugging</a>
          
            <label for="__nav_2_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Debugging" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          Debugging
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/debugging_model/" class="md-nav__link">
        Debugging model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/debugging_commands/" class="md-nav__link">
        Debugging commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/debugging_example/" class="md-nav__link">
        Debugging example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/procedures/" class="md-nav__link">
        Procedures related to debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/console_line_editing/" class="md-nav__link">
        Console line-editing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debugging/emacs_interface/" class="md-nav__link">
        Emacs interface
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7" type="checkbox" id="__nav_2_7" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Scheme extensions</a>
          
            <label for="__nav_2_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Scheme extensions" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_7">
          <span class="md-nav__icon md-icon"></span>
          Scheme extensions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../extensions_to_standard_procedures/" class="md-nav__link">
        Extensions to standard procedures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../extensions_to_standard_special_forms/" class="md-nav__link">
        Extensions to standard special forms
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Miscellaneous extensions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Miscellaneous extensions
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#subvector" class="md-nav__link">
    subvector
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-copy" class="md-nav__link">
    vector-copy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-copy_1" class="md-nav__link">
    vector-copy!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-append" class="md-nav__link">
    vector-append
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-concatenate" class="md-nav__link">
    vector-concatenate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subvector-fill" class="md-nav__link">
    subvector-fill!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subvector-move" class="md-nav__link">
    subvector-move!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-shrink" class="md-nav__link">
    vector-shrink!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-cas" class="md-nav__link">
    vector-cas!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-inc" class="md-nav__link">
    vector-inc!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-set" class="md-nav__link">
    vector-set
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-set" class="md-nav__link">
    string-set
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-concatenate" class="md-nav__link">
    string-concatenate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#substring-fill" class="md-nav__link">
    substring-fill!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#substring-move" class="md-nav__link">
    substring-move!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-shrink" class="md-nav__link">
    string-shrink!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#box" class="md-nav__link">
    box
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#box_1" class="md-nav__link">
    box?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unbox" class="md-nav__link">
    unbox
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-box" class="md-nav__link">
    set-box!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keyword" class="md-nav__link">
    keyword?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keyword-string" class="md-nav__link">
    keyword-&gt;string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-keyword" class="md-nav__link">
    string-&gt;keyword
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gensym" class="md-nav__link">
    gensym
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-uninterned-symbol" class="md-nav__link">
    string-&gt;uninterned-symbol
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uninterned-symbol" class="md-nav__link">
    uninterned-symbol?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-uninterned-keyword" class="md-nav__link">
    string-&gt;uninterned-keyword
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uninterned-keyword" class="md-nav__link">
    uninterned-keyword?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identity" class="md-nav__link">
    identity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#void" class="md-nav__link">
    void
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eval" class="md-nav__link">
    eval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-macro" class="md-nav__link">
    define-macro
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-syntax" class="md-nav__link">
    define-syntax
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compilation-target" class="md-nav__link">
    compilation-target
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cond-expand" class="md-nav__link">
    cond-expand
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-cond-expand-feature" class="md-nav__link">
    define-cond-expand-feature
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declare" class="md-nav__link">
    declare
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuation" class="md-nav__link">
    continuation?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuation-capture" class="md-nav__link">
    continuation-capture
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuation-graft" class="md-nav__link">
    continuation-graft
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuation-return" class="md-nav__link">
    continuation-return
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-exception" class="md-nav__link">
    display-exception
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-exception-in-context" class="md-nav__link">
    display-exception-in-context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-procedure-environment" class="md-nav__link">
    display-procedure-environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-continuation-environment" class="md-nav__link">
    display-continuation-environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-continuation-dynamic-environment" class="md-nav__link">
    display-continuation-dynamic-environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-continuation-backtrace" class="md-nav__link">
    display-continuation-backtrace
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../undocumented_extensions/" class="md-nav__link">
        Undocumented extensions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_8" type="checkbox" id="__nav_2_8" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../modules/">Modules</a>
          
            <label for="__nav_2_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Modules" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_8">
          <span class="md-nav__icon md-icon"></span>
          Modules
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/legacy_modules/" class="md-nav__link">
        Legacy modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/primitive_modules/" class="md-nav__link">
        Primitive modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/primitive_procedures/" class="md-nav__link">
        Primitive procedures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/r7rs_compatible_modules/" class="md-nav__link">
        R7RS compatible modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/installing_modules/" class="md-nav__link">
        Installing modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/compiling_modules/" class="md-nav__link">
        Compiling modules
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_9" type="checkbox" id="__nav_2_9" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../built_in_data_types/">Built-in data types</a>
          
            <label for="__nav_2_9">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Built-in data types" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_9">
          <span class="md-nav__icon md-icon"></span>
          Built-in data types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../built_in_data_types/numbers/" class="md-nav__link">
        Numbers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../built_in_data_types/booleans/" class="md-nav__link">
        Booleans
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../built_in_data_types/pairs_and_lists/" class="md-nav__link">
        Pairs and lists
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../built_in_data_types/symbols_and_keywords/" class="md-nav__link">
        Symbols and keywords
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../built_in_data_types/characters_and_strings/" class="md-nav__link">
        Characters and strings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../built_in_data_types/vectors/" class="md-nav__link">
        Vectors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../built_in_data_types/homogeneous_numeric_vectors/" class="md-nav__link">
        Homogeneous numeric vectors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../built_in_data_types/hashing_and_weak_references/" class="md-nav__link">
        Hashing and weak references
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_10" type="checkbox" id="__nav_2_10" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../records/">Records</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Records" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_10">
          <span class="md-nav__icon md-icon"></span>
          Records
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_11" type="checkbox" id="__nav_2_11" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../threads/">Threads</a>
          
            <label for="__nav_2_11">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Threads" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_11">
          <span class="md-nav__icon md-icon"></span>
          Threads
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../threads/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../threads/thread_objects/" class="md-nav__link">
        Thread objects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../threads/mutex_objects/" class="md-nav__link">
        Mutex objects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../threads/condvar_objects/" class="md-nav__link">
        Condition variable objects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../threads/fairness/" class="md-nav__link">
        Fairness
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../threads/memory_coherency/" class="md-nav__link">
        Memory coherency
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../threads/timeouts/" class="md-nav__link">
        Timeouts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../threads/primordial_thread/" class="md-nav__link">
        Primordial thread
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../threads/procedures/" class="md-nav__link">
        Procedures
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_12" type="checkbox" id="__nav_2_12" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../dynamic_environment/">Dynamic environment</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Dynamic environment" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_12">
          <span class="md-nav__icon md-icon"></span>
          Dynamic environment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_13" type="checkbox" id="__nav_2_13" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../exceptions/">Exceptions</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Exceptions" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_13">
          <span class="md-nav__icon md-icon"></span>
          Exceptions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_14" type="checkbox" id="__nav_2_14" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../host_environment/">Host environment</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Host environment" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_14">
          <span class="md-nav__icon md-icon"></span>
          Host environment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_15" type="checkbox" id="__nav_2_15" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../io_and_ports/">I/O and ports</a>
          
        </div>
      
      <nav class="md-nav" aria-label="I/O and ports" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_15">
          <span class="md-nav__icon md-icon"></span>
          I/O and ports
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_16" type="checkbox" id="__nav_2_16" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../lexical_syntax_and_readtables/">Lexical syntax and readtables</a>
          
            <label for="__nav_2_16">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Lexical syntax and readtables" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_16">
          <span class="md-nav__icon md-icon"></span>
          Lexical syntax and readtables
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lexical_syntax_and_readtables/readtables/" class="md-nav__link">
        Readtables
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_17" type="checkbox" id="__nav_2_17" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../c_interface/">C-interface</a>
          
        </div>
      
      <nav class="md-nav" aria-label="C-interface" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_17">
          <span class="md-nav__icon md-icon"></span>
          C-interface
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_18" type="checkbox" id="__nav_2_18" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../system_limitations/">System limitations</a>
          
        </div>
      
      <nav class="md-nav" aria-label="System limitations" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_18">
          <span class="md-nav__icon md-icon"></span>
          System limitations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_19" type="checkbox" id="__nav_2_19" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../copyright_and_license/">Copyright and license</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Copyright and license" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_19">
          <span class="md-nav__icon md-icon"></span>
          Copyright and license
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../howtos/">How-tos</a>
          
        </div>
      
      <nav class="md-nav" aria-label="How-tos" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          How-tos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#subvector" class="md-nav__link">
    subvector
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-copy" class="md-nav__link">
    vector-copy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-copy_1" class="md-nav__link">
    vector-copy!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-append" class="md-nav__link">
    vector-append
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-concatenate" class="md-nav__link">
    vector-concatenate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subvector-fill" class="md-nav__link">
    subvector-fill!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subvector-move" class="md-nav__link">
    subvector-move!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-shrink" class="md-nav__link">
    vector-shrink!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-cas" class="md-nav__link">
    vector-cas!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-inc" class="md-nav__link">
    vector-inc!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-set" class="md-nav__link">
    vector-set
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-set" class="md-nav__link">
    string-set
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-concatenate" class="md-nav__link">
    string-concatenate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#substring-fill" class="md-nav__link">
    substring-fill!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#substring-move" class="md-nav__link">
    substring-move!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-shrink" class="md-nav__link">
    string-shrink!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#box" class="md-nav__link">
    box
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#box_1" class="md-nav__link">
    box?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unbox" class="md-nav__link">
    unbox
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-box" class="md-nav__link">
    set-box!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keyword" class="md-nav__link">
    keyword?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keyword-string" class="md-nav__link">
    keyword-&gt;string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-keyword" class="md-nav__link">
    string-&gt;keyword
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gensym" class="md-nav__link">
    gensym
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-uninterned-symbol" class="md-nav__link">
    string-&gt;uninterned-symbol
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uninterned-symbol" class="md-nav__link">
    uninterned-symbol?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-uninterned-keyword" class="md-nav__link">
    string-&gt;uninterned-keyword
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uninterned-keyword" class="md-nav__link">
    uninterned-keyword?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identity" class="md-nav__link">
    identity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#void" class="md-nav__link">
    void
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eval" class="md-nav__link">
    eval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-macro" class="md-nav__link">
    define-macro
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-syntax" class="md-nav__link">
    define-syntax
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compilation-target" class="md-nav__link">
    compilation-target
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cond-expand" class="md-nav__link">
    cond-expand
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define-cond-expand-feature" class="md-nav__link">
    define-cond-expand-feature
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declare" class="md-nav__link">
    declare
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuation" class="md-nav__link">
    continuation?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuation-capture" class="md-nav__link">
    continuation-capture
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuation-graft" class="md-nav__link">
    continuation-graft
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuation-return" class="md-nav__link">
    continuation-return
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-exception" class="md-nav__link">
    display-exception
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-exception-in-context" class="md-nav__link">
    display-exception-in-context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-procedure-environment" class="md-nav__link">
    display-procedure-environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-continuation-environment" class="md-nav__link">
    display-continuation-environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-continuation-dynamic-environment" class="md-nav__link">
    display-continuation-dynamic-environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display-continuation-backtrace" class="md-nav__link">
    display-continuation-backtrace
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/gambit/gambit/edit/master/docs/manual/scheme_extensions/miscellaneous_extensions.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="miscellaneous-extensions">Miscellaneous extensions</h1>
<h4 id="subvector">subvector</h4>
<pre class="highlight"><code class="language-scheme">(subvector vector start end) ;; procedure</code></pre>
<p>This procedure is the vector analog of the <code>substring</code> procedure. It returns a
newly allocated vector formed from the elements of the vector vector beginning
with index <code>start</code> (inclusive) and ending with index <code>end</code> (exclusive).</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (subvector '#(a b c d e f) 3 5)
#(d e)</code></pre>
<h4 id="vector-copy">vector-copy</h4>
<pre class="highlight"><code class="language-scheme">(vector-copy vector [start [end]]) ;; procedure</code></pre>
<p>This procedure is like the procedure <code>subvector</code> except the parameter <code>start</code>
defaults to <code>0</code> and the parameter <code>end</code> defaults to the length of the <code>vector</code>
vector. Note that the elements are not recursively copied.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define v1 '#(a b c d e f))
&gt; (define v2 (vector-copy v1))
&gt; v2
#(a b c d e f)
&gt; (eq? v1 v2)
#f
&gt; (vector-copy v1 3)
#(d e f)
&gt; (vector-copy v1 3 5)
#(d e)</code></pre>
<h4 id="vector-copy_1">vector-copy!</h4>
<pre class="highlight"><code class="language-scheme">(vector-copy! dest-vector dest-start vector [start [end]]) ;; procedure</code></pre>
<p>This procedure mutates the vector dest-vector. It copies the elements of the
vector <code>vector</code> beginning with index <code>start</code> (inclusive) and ending with index
<code>end</code> (exclusive) to the vector <code>dest-vector</code> at index <code>dest-start</code>. The
parameters <code>start</code> and <code>end</code> default respectively to <code>0</code> and the length of the
vector <code>vector</code>. It is an error to copy more elements than will fit in the tail
of the vector <code>dest-vector</code> starting at index <code>dest-start</code>. Note that the
elements are not recursively copied.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define v1 (vector 10 11 12 13 14 15))
&gt; (define v2 (vector 20 21 22 23))
&gt; (vector-copy! v1 1 v2)
&gt; v1
#(10 20 21 22 23 15)
&gt; (vector-copy! v1 1 v2 3)
&gt; v1
#(10 23 21 22 23 15)
&gt; (vector-copy! v1 1 v2 1 3)
&gt; v1
#(10 21 22 22 23 15)</code></pre>
<h4 id="vector-append">vector-append</h4>
<pre class="highlight"><code class="language-scheme">(vector-append vector ...) ;; procedure</code></pre>
<p>This procedure is the vector analog of the <code>string-append</code> procedure. It returns
a newly allocated vector whose elements form the concatenation of the given
vectors.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define v '#(1 2 3))
&gt; (vector-append v v v)
#(1 2 3 1 2 3 1 2 3)</code></pre>
<h4 id="vector-concatenate">vector-concatenate</h4>
<pre class="highlight"><code class="language-scheme">(vector-concatenate lst [separator]) ;; procedure</code></pre>
<p>This procedure returns a newly allocated vector whose elements form the
concatenation of all the vectors in the list <code>lst</code>. If the optional vector
<code>separator</code> argument is specified, it will be added between all the elements of
lst. Without the <code>separator</code> argument the result is the same as <code>(apply
vector-append lst)</code>.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define v '#(1 2 3))
&gt; (vector-concatenate (list v v v))
#(1 2 3 1 2 3 1 2 3)
&gt; (vector-concatenate (list v v v) '#(88 99))
#(1 2 3 88 99 1 2 3 88 99 1 2 3)</code></pre>
<h4 id="subvector-fill">subvector-fill!</h4>
<pre class="highlight"><code class="language-scheme">(subvector-fill! vector start end fill) ;; procedure</code></pre>
<p>This procedure is like <code>vector-fill!</code>, but fills a selected part of the given
vector. It sets the elements of the vector <code>vector</code>, beginning with index
<code>start</code> (inclusive) and ending with index <code>end</code> (exclusive) to <code>fill</code>. The value
returned is unspecified.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define v (vector 'a 'b 'c 'd 'e 'f))
&gt; (subvector-fill! v 3 5 'x)
&gt; v
#(a b c x x f)</code></pre>
<h4 id="subvector-move">subvector-move!</h4>
<pre class="highlight"><code class="language-scheme">(subvector-move! src-vector src-start src-end dst-vector dst-start) ;; procedure</code></pre>
<p>This procedure replaces part of the contents of vector <code>dst-vector</code> with part of
the contents of vector <code>src-vector</code>. It copies elements from <code>src-vector</code>,
beginning with index <code>src-start</code> (inclusive) and ending with index <code>src-end</code>
(exclusive) to <code>dst-vector</code> beginning with index <code>dst-start</code> (inclusive). The
value returned is unspecified.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define v1 '#(1 2 3 4 5 6))
&gt; (define v2 (vector 'a 'b 'c 'd 'e 'f))
&gt; (subvector-move! v1 3 5 v2 1)
&gt; v2
#(a 4 5 d e f)</code></pre>
<h4 id="vector-shrink">vector-shrink!</h4>
<pre class="highlight"><code class="language-scheme">(vector-shrink! vector k) ;; procedure</code></pre>
<p>This procedure shortens the vector <code>vector</code> so that its new size is <code>k</code>. The
value returned is unspecified.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define v (vector 'a 'b 'c 'd 'e 'f))
&gt; v
#(a b c d e f)
&gt; (vector-shrink! v 3)
&gt; v
#(a b c)</code></pre>
<h4 id="vector-cas">vector-cas!</h4>
<pre class="highlight"><code class="language-scheme">(vector-cas! vector k new-value old-value) ;; procedure</code></pre>
<p>The procedure <code>vector-cas!</code> performs an atomic compare-and-swap operation on the
element of vector <code>vector</code> at index <code>k</code>. If the element's value is <code>eq?</code> to
<code>old-value</code> then the element is changed to <code>new-value</code>, otherwise the value does
not change. Regardless what happened, the element's value prior to any change is
returned. It is thus possible to detect a change by an explicit <code>eq?</code> test of
the result.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define v (vector 'a))
&gt; (eq? 'foo (vector-cas! v 0 'b 'foo))
#f
&gt; v
#(a)
&gt; (eq? 'a (vector-cas! v 0 'b 'a))
#t
&gt; v
#(b)</code></pre>
<h4 id="vector-inc">vector-inc!</h4>
<pre class="highlight"><code class="language-scheme">(vector-inc! vector k [step]) ;; procedure</code></pre>
<p>The procedure <code>vector-inc!</code> performs an atomic incrementation on the element of
vector <code>vector</code> at index <code>k</code>, which must be a fixnum. The parameter <code>step</code> defaults to
<code>1</code> and it is the fixnum value that is added (with wraparound) to the element. The
procedure returns the value of the element prior to the incrementation.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define v (vector 100))
&gt; (vector-inc! v 0)
100
&gt; (vector-inc! v 0)
101
&gt; (vector-inc! v 0 5)
102
&gt; v
#(107)</code></pre>
<h4 id="vector-set">vector-set</h4>
<pre class="highlight"><code class="language-scheme">(vector-set vector k obj) ;; procedure</code></pre>
<p>The procedure <code>vector-set</code> returns a new copy of the vector <code>vector</code> with the
element at index <code>k</code> replaced with <code>obj</code>.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define v1 (vector 10 11 12 13))
&gt; (define v2 (vector-set v1 2 99))
&gt; v2
#(10 11 99 13)
&gt; (eq? v1 v2)
#f</code></pre>
<h4 id="string-set">string-set</h4>
<pre class="highlight"><code class="language-scheme">(string-set string k char) ;; procedure</code></pre>
<p>The procedure <code>string-set</code> returns a new copy of the string <code>string</code> with the
character at index <code>k</code> replaced with <code>char</code>.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define s1 (string #\a #\b #\c #\d))
&gt; (define s2 (string-set s1 2 #\.))
&gt; s2
"ab.d"
&gt; (eq? s1 s2)
#f</code></pre>
<h4 id="string-concatenate">string-concatenate</h4>
<pre class="highlight"><code class="language-scheme">(string-concatenate lst [separator]) ;; procedure</code></pre>
<p>This procedure returns a newly allocated string which is the concatenation of
all the strings in the list <code>lst</code>. If the optional string <code>separator</code> argument
is specified, it will be added between all the elements of <code>lst</code>. Without the
<code>separator</code> argument the result is the same as <code>(apply string-append lst)</code>.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define s "abc")
&gt; (string-concatenate (list s s s))
"abcabcabc"
&gt; (string-concatenate (list s s s) ",")
"abc,abc,abc"</code></pre>
<h4 id="substring-fill">substring-fill!</h4>
<pre class="highlight"><code class="language-scheme">(substring-fill! string start end fill) ;; procedure</code></pre>
<p>This procedure is like <code>string-fill!</code>, but fills a selected part of the given
<code>string</code>. It sets the elements of the string <code>string</code>, beginning with index
<code>start</code> (inclusive) and ending with index <code>end</code> (exclusive) to <code>fill</code>. The value
returned is unspecified.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define s (string #\a #\b #\c #\d #\e #\f))
&gt; (substring-fill! s 3 5 #\x)
&gt; s
"abcxxf"</code></pre>
<h4 id="substring-move">substring-move!</h4>
<pre class="highlight"><code class="language-scheme">(substring-move! src-string src-start src-end dst-string dst-start) ;; procedure</code></pre>
<p>This procedure replaces part of the contents of string <code>dst-string</code> with part of
the contents of string <code>src-string</code>. It copies elements from <code>src-string</code>,
beginning with index <code>src-start</code> (inclusive) and ending with index <code>src-end</code>
(exclusive) to <code>dst-string</code> beginning with index <code>dst-start</code> (inclusive). The
value returned is unspecified.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define s1 "123456")
&gt; (define s2 (string #\a #\b #\c #\d #\e #\f))
&gt; (substring-move! s1 3 5 s2 1)
&gt; s2
"a45def"</code></pre>
<h4 id="string-shrink">string-shrink!</h4>
<pre class="highlight"><code class="language-scheme">(string-shrink! string k) ;; procedure</code></pre>
<p>This procedure shortens the string <code>string</code> so that its new size is <code>k</code>. The
value returned is unspecified.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define s (string #\a #\b #\c #\d #\e #\f))
&gt; s
"abcdef"
&gt; (string-shrink! s 3)
&gt; s
"abc"</code></pre>
<h4 id="box">box</h4>
<h4 id="box_1">box?</h4>
<h4 id="unbox">unbox</h4>
<h4 id="set-box">set-box!</h4>
<pre class="highlight"><code class="language-scheme">(box obj) ;; procedure
(box? obj) ;; procedure
(unbox box) ;; procedure
(set-box! box obj) ;; procedure</code></pre>
<p>These procedures implement the <code>box</code> data type. A box is a cell containing a
single mutable field. The lexical syntax of a box containing the object <code>obj</code> is
<code>#&amp;obj</code> (see section <a href="/manual/lexical_syntax_and_readtables/box_syntax">Box
syntax</a>).</p>
<p>The procedure <code>box</code> returns a new box object whose content is initialized to
<code>obj</code>. The procedure <code>box?</code> returns <code>#t</code> if <code>obj</code> is a box, and otherwise
returns <code>#f</code>. The procedure <code>unbox</code> returns the content of the box <code>box</code>. The
procedure <code>set-box!</code> changes the content of the box <code>box</code> to <code>obj</code>. The
procedure <code>set-box!</code> returns an unspecified value.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define b (box 0))
&gt; b
#&amp;0
&gt; (define (inc!) (set-box! b (+ (unbox b) 1)))
&gt; (inc!)
&gt; b
#&amp;1
&gt; (unbox b)
1</code></pre>
<h4 id="keyword">keyword?</h4>
<h4 id="keyword-string">keyword-&gt;string</h4>
<h4 id="string-keyword">string-&gt;keyword</h4>
<pre class="highlight"><code class="language-scheme">(keyword? obj) ;; procedure
(keyword-&gt;string keyword) ;; procedure
(string-&gt;keyword string) ;; procedure</code></pre>
<p>These procedures implement the <code>keyword</code> data type. Keywords are similar to
symbols but are self evaluating and distinct from the <code>symbol</code> data type. The
lexical syntax of keywords is specified in <a href="/manual/lexical_syntax_and_readtables/keyword_syntax">Keyword
syntax</a>.</p>
<p>The procedure <code>keyword?</code> returns <code>#t</code> if <code>obj</code> is a keyword, and otherwise returns <code>#f</code>.
The procedure <code>keyword-&gt;string</code> returns the name of <code>keyword</code> as a string. The
procedure <code>string-&gt;keyword</code> returns the keyword whose name is <code>string</code>.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (keyword? 'color)
#f
&gt; (keyword? color:)
#t
&gt; (keyword-&gt;string color:)
"color"
&gt; (string-&gt;keyword "color")
color:</code></pre>
<h4 id="gensym">gensym</h4>
<pre class="highlight"><code class="language-scheme">(gensym [prefix]) ;; procedure</code></pre>
<p>This procedure returns a new uninterned symbol. Uninterned symbols are
guaranteed to be distinct from the symbols generated by the procedures read and
<code>string-&gt;symbol</code>. The symbol <code>prefix</code> is the prefix used to generate the new
symbol's name. If it is not specified, the prefix defaults to <code>g</code>.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (gensym)
#:g0
&gt; (gensym)
#:g1
&gt; (gensym 'star-trek-)
#:star-trek-2</code></pre>
<h4 id="string-uninterned-symbol">string-&gt;uninterned-symbol</h4>
<h4 id="uninterned-symbol">uninterned-symbol?</h4>
<pre class="highlight"><code class="language-scheme">(string-&gt;uninterned-symbol name [hash]) ;; procedure
(uninterned-symbol? obj) ;; procedure</code></pre>
<p>The procedure <code>string-&gt;uninterned-symbol</code> returns a new uninterned symbol whose
name is <code>name</code> and hash is <code>hash</code>. The <code>name</code> must be a string and the <code>hash</code>
must be a nonnegative fixnum.</p>
<p>The procedure <code>uninterned-symbol?</code> returns <code>#t</code> when <code>obj</code> is a symbol that is
uninterned and <code>#f</code> otherwise.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (uninterned-symbol? (gensym))
#t
&gt; (string-&gt;uninterned-symbol "foo")
#:foo:
&gt; (uninterned-symbol? (string-&gt;uninterned-symbol "foo"))
#t
&gt; (uninterned-symbol? 'hello)
#f
&gt; (uninterned-symbol? 123)
#f</code></pre>
<h4 id="string-uninterned-keyword">string-&gt;uninterned-keyword</h4>
<h4 id="uninterned-keyword">uninterned-keyword?</h4>
<pre class="highlight"><code class="language-scheme">(string-&gt;uninterned-keyword name [hash]) ;; procedure
(uninterned-keyword? obj) ;; procedure</code></pre>
<p>The procedure <code>string-&gt;uninterned-keyword</code> returns a new uninterned keyword whose
name is <code>name</code> and hash is <code>hash</code>. The <code>name</code> must be a string and the <code>hash</code> must be a
nonnegative fixnum.</p>
<p>The procedure <code>uninterned-keyword?</code> returns <code>#t</code> when <code>obj</code> is a keyword that is
uninterned and <code>#f</code> otherwise.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (string-&gt;uninterned-keyword "foo")
#:foo:
&gt; (uninterned-keyword? (string-&gt;uninterned-keyword "foo"))
#t
&gt; (uninterned-keyword? hello:)
#f
&gt; (uninterned-keyword? 123)
#f</code></pre>
<h4 id="identity">identity</h4>
<pre class="highlight"><code class="language-scheme">(identity obj) ;; procedure</code></pre>
<p>This procedure returns <code>obj</code>.</p>
<h4 id="void">void</h4>
<pre class="highlight"><code class="language-scheme">(void) ;; procedure</code></pre>
<p>This procedure returns the <code>void</code> object. The read-eval-print loop prints
nothing when the result is the <code>void</code> object.</p>
<h4 id="eval">eval</h4>
<pre class="highlight"><code class="language-scheme">(eval expr [env]) ;; procedure</code></pre>
<p>The first parameter is a datum representing an expression. The <code>eval</code> procedure
evaluates this expression in the global interaction environment and returns the
result. If present, the second parameter is ignored (it is provided for
compatibility with R5RS).</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (eval '(+ 1 2))
3
&gt; ((eval 'car) '(1 2))
1
&gt; (eval '(define x 5))
&gt; x
5</code></pre>
<h4 id="define-macro">define-macro</h4>
<pre class="highlight"><code class="language-scheme">(define-macro (name define-formals) body) ;; special form</code></pre>
<p>Define <code>name</code> as a macro special form which expands into <code>body</code>. This form can
only appear where a <code>define</code> form is acceptable. Macros are lexically scoped.
The scope of a local macro definition extends from the definition to the end of
the body of the surrounding binding construct. Macros defined at the top level
of a Scheme module are only visible in that module. To have access to the macro
definitions contained in a file, that file must be included either directly
using the <code>include</code> special form or indirectly with the <code>import</code> special form.
Macros which are visible from the REPL are also visible during the compilation
of Scheme source files.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">(define-macro (unless test . body)
  `(if ,test #f (begin ,@body)))

(define-macro (push var #!optional val)
  `(set! ,var (cons ,val ,var)))</code></pre>
<p>To examine the code into which a macro expands you can use the compiler's
<code>-expansion</code> option or the <code>pp</code> procedure. For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define-macro (push var #!optional val)
    `(set! ,var (cons ,val ,var)))
&gt; (pp (lambda () (push stack 1) (push stack) (push stack 3)))
(lambda ()
  (set! stack (cons 1 stack))
  (set! stack (cons #f stack))
  (set! stack (cons 3 stack)))</code></pre>
<h4 id="define-syntax">define-syntax</h4>
<pre class="highlight"><code class="language-scheme">(define-syntax name expander) ;; special form</code></pre>
<p>Define <code>name</code> as a macro special form whose expansion is specified by
<code>expander</code>. This form is available only when the runtime option <code>-:s</code> is used.
This option causes the loading of the <code>~~lib/syntax-case</code> support library, which
is the Hieb and Dybvig portable <code>syntax-case</code> implementation which has been
ported to the Gambit interpreter and compiler. Note that this implementation of
<code>syntax-case</code> does not support special forms that are specific to Gambit.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">$ gsi -:s
Gambit v4.9.4

&gt; (define-syntax unless
    (syntax-rules ()
      ((unless test body ...)
       (if test #f (begin body ...)))))
&gt; (let ((test 111)) (unless (= 1 2) (list test test)))
(111 111)
&gt; (pp (lambda () (let ((test 111)) (unless (= 1 2) (list test test)))))
(lambda () ((lambda (%%test14) (if (= 1 2) #f (list %%test14 %%test14))) 111))
&gt; (unless #f (pp xxx))
*** ERROR IN (console)@7.16 -- Unbound variable: xxx</code></pre>
<h4 id="compilation-target">compilation-target</h4>
<pre class="highlight"><code class="language-scheme">(compilation-target) ;; procedure</code></pre>
<p>This procedure can only be executed during the phase of the Scheme code's
processing (compilation) that corresponds to macro expansion. Calls to this
procedure are typically contained in macro definitions but they can also be
contained in procedures that are called from a macro definition's body directly
or indirectly.</p>
<p>The result returned by the <code>compilation-target</code> procedure gives an indication of
the target language of the compilation. This can be used to write macros that
depend on the type of compilation and the target language.</p>
<p>When the result is the symbol <code>T</code> the macro expansion is in the context of
compiling to the target language <code>T</code>, e.g. <code>C</code>, <code>js</code>, etc. When the result is a
single element list <code>(T)</code> the macro expansion is for the interpreter which
itself was compiled for the target language T, e.g. <code>(C)</code>, <code>(js)</code>, etc.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">$ cat ct.scm
(define (level-0)
  (string-append "0: " (object-&gt;string (compilation-target))))

(define-macro (test)

  (define (level-1)
    (string-append "1: " (object-&gt;string (compilation-target))))

  (define-macro (level-2)
    (string-append "2: " (object-&gt;string (compilation-target))))

  `(list ,(level-1) ,(level-2)))

(pp (test))

(pp (level-0)) ;; run time exception
$ gsi ct.scm
("1: (C)" "2: (C)")
*** ERROR IN level-0, "ct.scm"@2.40 -- Not in compilation context
(compilation-target)
$ gsc -target js -exe ct.scm
$ ./ct
("1: js" "2: (C)")
*** ERROR IN level-0 -- Not in compilation context
(compilation-target)</code></pre>
<p>Regardless of whether <code>ct.scm</code> is being processed by the interpreter or the
compiler, the body of the <code>level-0</code> procedure is not in a compilation context
and in the body of the <code>level-2</code> macro the compilation target is <code>(C)</code>
indicating that the macro expansion is being done for interpretation.</p>
<p>During the execution of the <code>level-1</code> procedure, the compilation target will
correspond to what is processing <code>ct.scm</code> (interpreter or compiler).</p>
<p>Note that the compilation target can also be tested by the <code>cond-expand</code> special
form.</p>
<h4 id="cond-expand">cond-expand</h4>
<pre class="highlight"><code class="language-scheme">(cond-expand ce-clause ...) ;; special form</code></pre>
<p>The <code>cond-expand</code> expression type provides a way to statically expand different
expressions depending on the presence or absence of a set of features. A
<code>ce-clause</code> takes the following form:</p>
<pre class="highlight"><code class="language-scheme">(feature-requirement expression ...)</code></pre>
<p>The last clause can be an "else clause" which has the form</p>
<pre class="highlight"><code class="language-scheme">(else expression)</code></pre>
<p>A <code>feature-requirement</code> takes one of the following forms:</p>
<ul>
<li><code>feature-identifier</code></li>
<li><code>(library library-name)</code></li>
<li><code>(and feature-requirement ...)</code></li>
<li><code>(or feature-requirement ...)</code></li>
<li><code>(not feature-requirement)</code></li>
<li><code>(compilation-target target ...)</code></li>
</ul>
<p>The runtime system maintains a list of feature identifiers which are present, as
well as a list of libraries which can be imported. The value of a
<code>feature-requirement</code> is determined by replacing each <code>feature-identifier</code> and
<code>(library library-name)</code> on the runtime system's lists with <code>#t</code>. Similarly,
<code>#t</code> replaces each <code>(compilation-target target ...)</code> for which one of the
<code>target</code> matches the expansion time value of <code>(compilation-target)</code>, with a
<code>target</code> of <code>(_)</code> matching any single element list (i.e. the interpreter). All
other feature-identifier, <code>(library library-name)</code>, and <code>(compilation-target
target ...)</code> are replaced with <code>#f</code>. The resulting expression is then evaluated
as a Scheme boolean expression under the normal interpretation of <code>and</code>, <code>or</code>,
and <code>not</code>.</p>
<p>A <code>cond-expand</code> is then expanded by evaluating the <code>feature-requirements</code> of
successive <code>ce-clauses</code> in order until one of them returns <code>#t</code>. When a true
clause is found, the corresponding expressions are expanded to a <code>begin</code>, and
the remaining clauses are ignored. If none of the <code>feature-requirements</code>
evaluate to <code>#t</code>, then if there is an <code>else</code> clause, its expressions are
included. Otherwise, an expansion time error is raised. Unlike <code>cond</code>,
<code>cond-expand</code> does not depend on the value of any variables.</p>
<p>The feature identifier <code>gambit</code> is always true when the <code>cond-expand</code> is
expanded by the Gambit interpreter or compiler.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (cond-expand (foobar 111) (gambit 222) (else 333))
222
&gt; (cond-expand ((compilation-target js) 111) (else 222))
222
&gt; (cond-expand ((compilation-target (_)) 111) (else 222))
111</code></pre>
<h4 id="define-cond-expand-feature">define-cond-expand-feature</h4>
<pre class="highlight"><code class="language-scheme">(define-cond-expand-feature feature-identifier ...) ;; special form</code></pre>
<p>The <code>define-cond-expand-feature</code> form can be used to add the feature identifiers
<code>feature-identifier ...</code> to the list of features maintained by the runtime
system. These features are usable for the expansion of following <code>cond-expand</code>
forms in the same file of source code, and the processing of other files and
REPL interactions.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (cond-expand (foobar 111) (gambit 222) (else 333))
222
&gt; (define-cond-expand-feature foobar)
&gt; (cond-expand (foobar 111) (gambit 222) (else 333))
111</code></pre>
<h4 id="declare">declare</h4>
<pre class="highlight"><code class="language-scheme">(declare declaration…) ;; special form</code></pre>
<p>This form introduces declarations to be used by the compiler (currently the
interpreter ignores the declarations). This form can only appear where a <code>define</code>
form is acceptable. Declarations are lexically scoped in the same way as macros.
The following declarations are accepted by the compiler:</p>
<p><code>(dialect)</code>
: Use the given dialect's semantics. <code>dialect</code> can be: <code>ieee-scheme</code>,
  <code>r4rs-scheme</code>, <code>r5rs-scheme</code> or <code>gambit-scheme</code>.</p>
<p><code>(strategy)</code>
: Select block compilation or separate compilation. In block compilation, the
  compiler assumes that global variables defined in the current file that are
  not mutated in the file will never be mutated. strategy can be: <code>block</code> or
  <code>separate</code>.</p>
<p><code>([not] inline)</code>
: Allow (or disallow) inlining of user procedures.</p>
<p><code>([not] inline-primitives primitive ...)</code>
: The given primitives <code>primitive ...</code> should (or should not) be inlined if possible (all
  primitives if none specified).</p>
<p><code>(inlining-limit n)</code>
: Select the degree to which the compiler inlines user procedures. <code>n</code> is the
  upper-bound, in percent, on code expansion that will result from inlining.
  Thus, a value of <code>300</code> indicates that the size of the program will not grow by
  more than <code>300</code> percent (i.e. it will be at most 4 times the size of the
  original). A value of <code>0</code> disables inlining. The size of a program is the
  total number of subexpressions it contains (i.e. the size of an expression is
  one plus the size of its immediate subexpressions). The following conditions
  must hold for a procedure to be inlined: inlining the procedure must not cause
  the size of the call site to grow more than specified by the inlining limit,
  the site of definition (the <code>define</code> or <code>lambda</code>) and the call site must be
  declared as <code>(inline)</code>, and the compiler must be able to find the definition
  of the procedure referred to at the call site (if the procedure is bound to a
  global variable, the definition site must have a <code>(block)</code> declaration). Note
  that inlining usually causes much less code expansion than specified by the
  inlining limit (an expansion around 10% is common for <code>n=370</code>).</p>
<p><code>(allocation-limit n)</code>
: Indicate the maximum size of objects allocated with make-vector, make-string, make-u8vector, etc. Knowing the maximum size allows the compiler to inline calls to these allocators for small allocations. This is only supported by the C target and only up to a size that is allowed for movable objects (typically on the order of 1-2 KB). When n is an exact nonnegative integer it is the upper-bound on the number of elements of the allocated objects. When n is #t a dynamic test of the size is done. When n is #f the allocation operation is not inlined.</p>
<p><code>([not] lambda-lift)</code>
: Lambda-lift (or don't lambda-lift) locally defined procedures.</p>
<p><code>([not] constant-fold)</code>
: Allow (or disallow) constant-folding of primitive procedures.</p>
<p><code>([not] standard-bindings var ...)</code>
: The given global variables <code>var ...</code> are known (or not known) to be equal to
  the value defined for them in the dialect (all variables defined in the
  standard if none specified).</p>
<p><code>([not] extended-bindings var ...)</code>
: The given global variables <code>var ...</code> are known (or not known) to be equal to
  the value defined for them in the runtime system (all variables defined in the
  runtime if none specified).</p>
<p><code>([not] run-time-bindings var ...)</code>
: The given global variables <code>var ...</code> will be tested at run time to see if they
  are equal to the value defined for them in the runtime system (all variables
  defined in the runtime if none specified).</p>
<p><code>([not] safe)</code>
: Generate (or don't generate) code that will prevent fatal errors at run time.
  Note that in <code>safe</code> mode certain semantic errors will not be checked as long
  as they can't crash the system. For example the primitive <code>char=?</code> may
  disregard the type of its arguments in <code>safe</code> as well as <code>not safe</code> mode.</p>
<p><code>([not] interrupts-enabled)</code>
: Generate (or don't generate) interrupt checks. Interrupt checks are used to
  detect user interrupts and also to check for stack overflows. Interrupt
  checking should not be turned off casually.</p>
<p><code>([not] poll-on-return)</code>
: Generate (or don't generate) interrupt checks on procedure returns (when
  interrupt checking is enabled). This declaration has no effect on the behavior
  of interrupt checking on procedure calls, which is needed to guarantee that
  stack overflows are handled properly.</p>
<p><code>([not] debug)</code>
: Enable (or disable) the generation of debugging information. The kind of
  debugging information that is generated depends on the declarations
  <code>debug-location</code>, <code>debug-source</code>, and <code>debug-environments</code>. If any of the
  command line options <code>-debug</code>, <code>-debug-location</code>, <code>-debug-source</code> and
  <code>-debug-environments</code> are present, the <code>debug</code> declaration is initially
  enabled, otherwise it is initially disabled. When all kinds of debugging
  information are generated there is a substantial increase in the C compilation
  time and the size of the generated code. When compiling a 3000 line Scheme
  file it was observed that the total compilation time is 500% longer and the
  executable code is 150% bigger.</p>
<p><code>([not] debug-location)</code>
: Select (or deselect) source code location debugging information. When this
  declaration and the <code>debug</code> declaration are in effect, run time error messages
  indicate the location of the error in the source code file. If any of the
  command line options <code>-debug-source</code> and <code>-debug-environments</code> are present and
  <code>-debug-location</code> is absent, the <code>debug-location</code> declaration is initially
  disabled, otherwise it is initially enabled. When compiling a 3000 line Scheme
  file it was observed that the total compilation time is 200% longer and the
  executable code is 60% bigger.</p>
<p><code>([not] debug-source)</code>
: Select (or deselect) source code debugging information. When this declaration
  and the <code>debug</code> declaration are in effect, run time error messages indicate
  the source code, the backtraces are more precise, and the pp procedure will
  display the source code of compiled procedures. If any of the command line
  options <code>-debug-location</code> and <code>-debug-environments</code> are present and
  <code>-debug-source</code> is absent, the <code>debug-source</code> declaration is initially
  disabled, otherwise it is initially enabled. When compiling a 3000 line Scheme
  file it was observed that the total compilation time is 90% longer and the
  executable code is 90% bigger.</p>
<p><code>([not] debug-environments)</code>
: Select (or deselect) environment debugging information. When this declaration
  and the <code>debug</code> declaration are in effect, the debugger will have access to
  the environments of the continuations. In other words the local variables
  defined in compiled procedures (and not optimized away by the compiler) will
  be shown by the <code>,e</code> REPL command. If any of the command line options
  <code>-debug-location</code> and <code>-debug-source</code> are present and <code>-debug-environments</code> is
  absent, the ‘debug-environments’ declaration is initially disabled, otherwise
  it is initially enabled. When compiling a 3000 line Scheme file it was
  observed that the total compilation time is 70% longer and the executable code
  is 40% bigger.</p>
<p><code>([not] proper-tail-calls)</code>
: Generate (or don't generate) proper tail calls. When proper tail calls are
  turned off, tail calls are handled like non-tail calls, that is a continuation
  frame will be created for all calls regardless of their kind. This is useful
  for debugging because the caller of a procedure will be visible in the
  backtrace produced by the REPL's <code>,b</code> command even when the call is a tail
  call. Be advised that this does cause stack space to be consumed for tail
  calls which may cause the stack to overflow when performing long iterations
  with tail calls (whether they are expressed with a <code>letrec</code>, named <code>let</code>,
  <code>do</code>, or other form).</p>
<p><code>([not] generative-lambda)</code>
: Force (or don't force) the creation of fresh closures when evaluating
  lambda-expressions. A fresh closure is always created when a lambda-expression
  has at least one free variable (that has not been eliminated by dead-code
  elimination or other compiler optimization) or when the <code>generative-lambda</code>
  declaration is turned on. When a lambda-expression has no free variables and
  the <code>generative-lambda</code> declaration is turned off, the value of the
  lambda-expression may be the same procedure (in the sense of <code>eq?</code>).</p>
<p><code>([not] optimize-dead-local-variables)</code>
: Remove (or preserve) the dead local variables in the environment. Preserving
  the dead local variables is useful for debugging because continuations will
  contain the dead variables. Thus, if the code is also compiled with the
  declaration <code>debug-environments</code> the <code>,e</code>, <code>,ed</code>, <code>,be</code>, and <code>,bed</code> REPL
  commands will display the dead variables. On the other hand, preserving the
  dead local variables may change the space complexity of the program (i.e. some
  of the data that would normally be reclaimed by the garbage collector will not
  be). Note that due to other compiler optimizations some dead local variables
  may be removed regardless of this declaration.</p>
<p><code>([not] optimize-dead-definitions var ...)</code>
: Remove (or preserve) the dead toplevel definitions of the given global
  variables <code>var ...</code> (all global variables if none specified). A toplevel
  definition is dead if it is not referenced by toplevel expressions of the
  program or toplevel definitions that aren't dead (regardless of the evaluation
  of its expression causing a side-effect). When a module is separately compiled
  and some of its definitions are only used by other modules, this declaration
  must be used with care to keep definitions that are used by other modules, for
  example if foo is referenced in another module the following declaration
  should be used: <code>(declare (not optimize-dead-definitions foo))</code>.</p>
<p><code>(number-type primitive ...)</code>
: Numeric arguments and result of the specified primitives <code>primitive ...</code> are
  known to be of the given type (all primitives if none specified).
  <code>number-type</code> can be: <code>generic</code>, <code>fixnum</code>, or <code>flonum</code>.</p>
<p><code>(mostly-number-type primitive ...)</code>
: Numeric arguments and result of the specified primitives <code>primitive ...</code> are
  expected to be most often of the given type (all primitives if none
  specified). <code>mostly-number-type</code> can be: <code>mostly-generic</code>, <code>mostly-fixnum</code>,
  <code>mostly-fixnum-flonum</code>, <code>mostly-flonum</code>, or <code>mostly-flonum-fixnum</code>.</p>
<p>The default declarations used by the compiler are equivalent to:</p>
<pre class="highlight"><code class="language-scheme">(declare
  (gambit-scheme)
  (separate)
  (inline)
  (inline-primitives)
  (inlining-limit 370)
  (allocation-limit #t)
  (constant-fold)
  (lambda-lift)
  (not standard-bindings)
  (not extended-bindings)
  (run-time-bindings)
  (safe)
  (interrupts-enabled)
  (not poll-on-return)
  (not debug)           ;; depends on debugging command line options
  (debug-location)      ;; depends on debugging command line options
  (debug-source)        ;; depends on debugging command line options
  (debug-environments)  ;; depends on debugging command line options
  (proper-tail-calls)
  (not generative-lambda)
  (optimize-dead-local-variables)
  (not optimize-dead-definitions)
  (generic)
  (mostly-fixnum-flonum)
)</code></pre>
<p>These declarations are compatible with the semantics of R5RS Scheme and includes
a few procedures from R6RS (mainly fixnum specific and flonum specific
procedures). Typically used declarations that enhance performance, at the cost
of violating the R5RS Scheme semantics, are: <code>(standard-bindings)</code>, <code>(block)</code>,
<code>(not safe)</code> and <code>(fixnum)</code>.</p>
<h4 id="continuation">continuation?</h4>
<h4 id="continuation-capture">continuation-capture</h4>
<h4 id="continuation-graft">continuation-graft</h4>
<h4 id="continuation-return">continuation-return</h4>
<pre class="highlight"><code class="language-scheme">(continuation? obj) ;; procedure
(continuation-capture proc) ;; procedure
(continuation-graft cont proc obj ...) ;; procedure
(continuation-return cont obj ...) ;; procedure</code></pre>
<p>These procedures provide access to internal first-class continuations which are
represented using continuation objects distinct from procedures.</p>
<p>The procedure <code>continuation?</code> returns <code>#t</code> when <code>obj</code> is a continuation object and <code>#f</code>
otherwise.</p>
<p>The procedure <code>continuation-capture</code> is similar to the <code>call/cc</code> procedure but
it represents the continuation with a <code>continuation</code> object. The <code>proc</code>
parameter must be a procedure accepting a single argument. The procedure
<code>continuation-capture</code> reifies its continuation and calls <code>proc</code> with the
corresponding <code>continuation</code> object as its sole argument. Like for <code>call/cc</code>,
the implicit continuation of the call to <code>proc</code> is the implicit continuation of
the call to <code>continuation-capture</code>.</p>
<p>The procedure <code>continuation-graft</code> performs a procedure call to the procedure
<code>proc</code> with arguments <code>obj ...</code> and the implicit continuation corresponding to
the continuation object <code>cont</code>. The current continuation of the call to
procedure <code>continuation-graft</code> is ignored.</p>
<p>The procedure <code>continuation-return</code> invokes the implicit continuation
corresponding to the continuation object <code>cont</code> with the result(s) <code>obj ...</code>.
This procedure can be easily defined in terms of <code>continuation-graft</code>:</p>
<pre class="highlight"><code class="language-scheme">(define (continuation-return cont . objs)
  (continuation-graft cont apply values objs))</code></pre>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define x #f)
&gt; (define p (make-parameter 11))
&gt; (pp (parameterize ((p 22))
        (cons 33 (continuation-capture
                  (lambda (c) (set! x c) 44)))))
(33 . 44)
&gt; x
#&lt;continuation #2&gt;
&gt; (continuation-return x 55)
(33 . 55)
&gt; (continuation-graft x (lambda () (expt 2 10)))
(33 . 1024)
&gt; (continuation-graft x expt 2 10)
(33 . 1024)
&gt; (continuation-graft x (lambda () (p)))
(33 . 22)
&gt; (define (map-sqrt1 lst)
    (call/cc
     (lambda (k)
       (map (lambda (x)
              (if (&lt; x 0)
                  (k 'error)
                  (sqrt x)))
            lst))))
&gt; (map-sqrt1 '(1 4 9))
(1 2 3)
&gt; (map-sqrt1 '(1 -1 9))
error
&gt; (define (map-sqrt2 lst)
    (continuation-capture
     (lambda (c)
       (map (lambda (x)
              (if (&lt; x 0)
                  (continuation-return c 'error)
                  (sqrt x)))
            lst))))
&gt; (map-sqrt2 '(1 4 9))
(1 2 3)
&gt; (map-sqrt2 '(1 -1 9))
error</code></pre>
<h4 id="display-exception">display-exception</h4>
<h4 id="display-exception-in-context">display-exception-in-context</h4>
<h4 id="display-procedure-environment">display-procedure-environment</h4>
<h4 id="display-continuation-environment">display-continuation-environment</h4>
<h4 id="display-continuation-dynamic-environment">display-continuation-dynamic-environment</h4>
<h4 id="display-continuation-backtrace">display-continuation-backtrace</h4>
<pre class="highlight"><code class="language-scheme">(display-exception exc [port]) ;; procedure
(display-exception-in-context exc cont [port]) ;; procedure
(display-procedure-environment proc [port]) ;; procedure
(display-continuation-environment cont [port]) ;; procedure
(display-continuation-dynamic-environment cont [port]) ;; procedure
(display-continuation-backtrace cont [port
                                     [display-env?
                                     [all-frames?
                                     [max-head
                                     [max-tail
                                     [depth]]]]]]) ;; procedure</code></pre>
<p>The procedure <code>display-continuation-backtrace</code> displays the frames of the
continuation corresponding to the continuation object <code>cont</code> on the port <code>port</code>.
If it is not specified, <code>port</code> defaults to the current output-port. The frames
are displayed in the same format as the REPL's <code>,b</code> command.</p>
<p>The parameter <code>display-env?</code>, which defaults to <code>#f</code>, controls if the frames are
displayed with its environment (the variables accessible and their bindings).</p>
<p>The parameter <code>all-frames?</code>, which defaults to <code>#f</code>, controls which frames are
displayed. Some frames of ancillary importance, such as internal frames created
by the interpreter, are not displayed when <code>all-frames?</code> is <code>#f</code>. Otherwise all
frames are displayed.</p>
<p>The parameters <code>max-head</code> and <code>max-tail</code>, which default to <code>10</code> and <code>4</code>
respectively, control how many frames are displayed at the head and tail of the
continuation.</p>
<p>The parameter <code>depth</code>, which defaults to <code>0</code>, causes the frame numbers to be
offset by that value.</p>
<p>For example:</p>
<pre class="highlight"><code class="language-scheme">&gt; (define x #f)
&gt; (define (fib n)
    (if (&lt; n 2)
        (continuation-capture
         (lambda (c) (set! x c) 1))
        (+ (fib (- n 1))
           (fib (- n 2)))))
&gt; (fib 10)
89
&gt; (display-continuation-backtrace x)
0  fib             (console)@7:12     (fib (- n 2))
1  fib             (console)@7:12     (fib (- n 2))
2  fib             (console)@7:12     (fib (- n 2))
3  fib             (console)@7:12     (fib (- n 2))
4  fib             (console)@7:12     (fib (- n 2))
5  (interaction)   (console)@8:1      (fib 10)
#f
&gt; (display-continuation-backtrace x (current-output-port) #f #t)
0  fib             (console)@7:12     (fib (- n 2))
1  fib             (console)@6:9      (+ (fib (- n 1)) (fib (- ...
2  fib             (console)@7:12     (fib (- n 2))
3  fib             (console)@6:9      (+ (fib (- n 1)) (fib (- ...
4  fib             (console)@7:12     (fib (- n 2))
5  fib             (console)@6:9      (+ (fib (- n 1)) (fib (- ...
6  fib             (console)@7:12     (fib (- n 2))
7  fib             (console)@6:9      (+ (fib (- n 1)) (fib (- ...
8  fib             (console)@7:12     (fib (- n 2))
9  fib             (console)@6:9      (+ (fib (- n 1)) (fib (- ...
...
13 ##with-no-result-expected-toplevel
14 ##repl-debug
15 ##repl-debug-main
16 ##kernel-handlers
#f
&gt; (display-continuation-backtrace x (current-output-port) #t #f)
0  fib             (console)@7:12     (fib (- n 2))
        n = 2
1  fib             (console)@7:12     (fib (- n 2))
        n = 4
2  fib             (console)@7:12     (fib (- n 2))
        n = 6
3  fib             (console)@7:12     (fib (- n 2))
        n = 8
4  fib             (console)@7:12     (fib (- n 2))
        n = 10
5  (interaction)   (console)@8:1      (fib 10)
#f
&gt; (display-continuation-backtrace x (current-output-port) #f #f 2 1 100)
100 fib            (console)@7:12     (fib (- n 2))
101 fib            (console)@7:12     (fib (- n 2))
...
105 (interaction)  (console)@8:1      (fib 10)
#f</code></pre>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 9, 2022</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 9, 2022</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../extensions_to_standard_special_forms/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Extensions to standard special forms" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Extensions to standard special forms
            </div>
          </div>
        </a>
      
      
        
        <a href="../undocumented_extensions/" class="md-footer__link md-footer__link--next" aria-label="Next: Undocumented extensions" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Undocumented extensions
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.indexes", "toc.follow", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
        <script src="../../../js/codemirror/lib/codemirror.js"></script>
      
        <script src="../../../js/codemirror/addon/edit/matchbrackets.js"></script>
      
        <script src="../../../js/codemirror/keymap/emacs.js"></script>
      
        <script src="../../../js/codemirror/mode/scheme/scheme.js"></script>
      
        <script src="../../../js/UI.js"></script>
      
        <script src="../../../js/VM.min.js"></script>
      
        <script src="../../../js/browserfs.min.js"></script>
      
    
  </body>
</html>